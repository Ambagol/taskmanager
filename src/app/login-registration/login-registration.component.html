<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- <script src="https://apis.google.com/js/platform.js" async defer></script> -->
  <title>Login and Registration</title>
 
</head>

<body>
  <!-- Registration Form  -->
  <div *ngIf="mustRegister">
   
    
    <form (submit) = 'register()' class="form-signin">
        <h1>Welcome User! Please Register</h1>
        <!-- <img class="mb-4" src="../../assets/brand/bootstrap-solid.svg" alt="" width="72" height="72"> -->
        <h1 class="h3 mb-3 font-weight-normal">Please Register to sign in</h1>
        <label for="name" class="sr-only" >First Name Last Name</label>
        <input type="name" name = "name" id="inputEmail" class="form-control" placeholder="First Name, Last Name" required autofocus [(ngModel)]= "user.name" #name= "ngModel">
        <label for="inputEmail" class="sr-only">Email</label>
        <input type="email" name="email" class="form-control" placeholder="Email" required minlength=3 [(ngModel)] = "user.email" #email= "ngModel">
        <label for="inputPassword" class="sr-only">Password</label>
        <input type="password" name = "password" id="inputPassword" class="form-control" placeholder="Password" required [(ngModel)] = "user.password" #password= "ngModel">
        <label for="inputPassword" class="sr-only">Confirm Password</label>
            <input type="password" name="cpassword" class="form-control"  placeholder="re-type Password" required minlength=6 [(ngModel)] = "user.cpassword" #cpassword= "ngModel" class="form-control">
        <div class="checkbox mb-3">
          <br>
          <label>
            <input type="checkbox" value="remember-me"> Remember me
          </label>
        </div>
        <button class="btn btn-lg btn-primary btn-block" type="submit">Register</button>
        <br>
        <h3 >Already Registered? Login!</h3>
        <button class="btn btn-sm btn-primary btn-block" (click)="toggleLogin()">Take me to Login</button>
        
      </form>

    <!-- validations -->
    <div *ngIf='name.errors && name.dirty'>
      Name must be at least 2 characters
    </div>
    <div *ngIf='email.errors && email.dirty'>
      Email is required
    </div>
    <div *ngIf='password.errors && password.dirty'>
      Password must be at least 6 characters
    </div>
    <div *ngIf='cpassword.dirty && cpassword != password'>
      <!-- your passwords gotta match bruh -->
      <!-- html side confirm password validation not working - extra validation put in controller -->
    </div>

  
  </div>

  <hr> 

  <!-- Login Form -->
  <div *ngIf="mustLogin">
    
    <form (submit) = 'login()' class="form-signin">
        <h1 class= " mb-3">Task Manager</h1>
      <!-- <img class="mb-4" src="../../assets/brand/bootstrap-solid.svg" alt="" width="72" height="72"> -->
      <h1 class="h3 mb-3 font-weight-normal">Login</h1>
      <label for="inputEmail" class="sr-only">Email address</label>
      <input type="email" name = "email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus [(ngModel)]= "user.email" #name= "ngModel">
      <label for="inputPassword" class="sr-only">Password</label>
                    <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
      <div class="checkbox mb-3">
        <label>
                  <input type="checkbox" value="remember-me"> Remember me
        </label>
      </div>
      <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>

      <div class="g-signin2" data-onsuccess="onSignIn"></div>

      <h3>New User? Register!</h3>
    <button class="btn btn-sm btn-primary btn-block" (click)="backToRegister()">Take me to Registration</button>
      <p class="mt-5 mb-3 text-muted">&copy; 2017-2018</p>
    </form>

    <!-- validation -->
    

    
  </div>

</body>
</html>
